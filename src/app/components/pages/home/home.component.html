<!-- Splash load -->
<app-splash-screen *ngIf="isLoading"></app-splash-screen>
<div *ngIf="!isLoading">
  <!-- Header -->
  <header>
    <app-header></app-header>
  </header>
  <!-- Content -->
  <div class="content" [class.sidebar-collapsed]="sidebarCollapsed">
    <!-- Sidebar -->
    <app-sidebar [workspaces]="workspaces"
      [selectedWorkspace]="selectedWorkspace"
      [activeView]="currentView"
      [collapsed]="sidebarCollapsed"
      (collapsedChange)="onSidebarCollapsedChange($event)"
      (viewChange)="onViewChange($event)"
      (listSelected)="onListSelected($event)"></app-sidebar>
    <div class="main-content">
      <!-- Main Views -->
      <app-start *ngIf="currentView === 'start'"></app-start>
      <app-team *ngIf="currentView === 'team'"></app-team>
      <app-task-template *ngIf="currentView === 'task-templates'"></app-task-template>
      <app-status-template *ngIf="currentView === 'status-templates'"></app-status-template>
      <app-task *ngIf="currentView === 'list-view'" 
        [list]="selectedList"
        [espacioTrabajoIdentificador]="selectedWorkspace?.identificador"
        [espacioIdentificador]="selectedList?.espacioIdentificador"
        [carpetaIdentificador]="selectedList?.carpetaIdentificador">
      </app-task>
    </div>
  </div>
</div>